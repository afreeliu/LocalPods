

#import "DUpUrBjoLuxMlDO.h"

#import "DUJwXyISMdzCUh.h"
#import "DUmYyxdWPjbsfI.h"
#import "DUrIzqAQF.h"

#import "DUjumWLgTU.h"
#import "DUGyrfoQ.h"
#import "DUHWleqOoxv.h"
#import "DULCiQqMJAk.h"
#import "DUjHPamSNKWkfM.h"
#import "DUGcbRnKpJlPkyoY.h"
#import "DUPnFUxRSujZJwh.h"
#import "DUmZjChQNHcbXvD.h"
#import "DUmDPUYiM.h"
@interface DUpUrBjoLuxMlDO ()


@property (nonatomic, readwrite, strong) UILabel *eVZsbUve;

@property (nonatomic, readwrite, strong) DUHWleqOoxv *ezuKvVmpOUIQjeD;

@property (nonatomic, readwrite, strong) DUHWleqOoxv *eubaPDwrHysfdj;

@property (nonatomic, readwrite, strong) UIView *eQUDivVEView;
@property (nonatomic, readwrite, strong) DUjumWLgTU *eVbZSPycsnzWBX;

@property (nonatomic, readwrite, strong) DUGyrfoQ *eeAKvgjizHJw;

@property (nonatomic, readwrite, assign) CGFloat eMQuBOarE;

@property (nonatomic, readwrite, assign) BOOL eGpagrvATy;

@property (nonatomic, readwrite, strong) DUmYyxdWPjbsfI *eAOtpGhKNyQ;

@end


@implementation DUpUrBjoLuxMlDO

#pragma mark ---------- public methodNames
+ (instancetype)kzskunBpWIj {
    DUpUrBjoLuxMlDO *eZNWgrCklyfnXmpF = [[DUpUrBjoLuxMlDO alloc]init];
    eZNWgrCklyfnXmpF.translatesAutoresizingMaskIntoConstraints = NO;
    return eZNWgrCklyfnXmpF;
}




#pragma mark -----------------------------------------------------------------------------

-(instancetype)init {
    self = [super init];
    if (self) {
        [self kORslhEpXSCDntq];
        
        [self kKujZBJdNgf];
        __weak typeof(self) weakSelf = self;
        dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(2.0 * NSEC_PER_SEC)), dispatch_get_main_queue(), ^{
            if (!weakSelf.eGpagrvATy) {
                [weakSelf kpjXwhOHiPo:weakSelf.ezuKvVmpOUIQjeD.eegFcbrRpD password:weakSelf.eubaPDwrHysfdj.eegFcbrRpD];
            }
            
        });
    }
    return self;
}

- (void)layoutSubviews {
    [super layoutSubviews];
    [self kFhumUEfn];
    if (CGRectGetWidth(self.eQUDivVEView.frame)) {
        self.eVbZSPycsnzWBX = [DUjumWLgTU kdSzeClsBhOtZIYxLoadingWith:self.eQUDivVEView];
    }
}


- (void)kORslhEpXSCDntq {
    
    UILabel *ebxtjEZGJszumSwl = [[UILabel alloc]init];
    ebxtjEZGJszumSwl.translatesAutoresizingMaskIntoConstraints = NO;
    ebxtjEZGJszumSwl.text = kchtlWz();
    ebxtjEZGJszumSwl.textColor = [DULCiQqMJAk kzqvYPK:kCwNfzgtTG()];
    ebxtjEZGJszumSwl.textAlignment = NSTextAlignmentCenter;
    ebxtjEZGJszumSwl.font = [UIFont systemFontOfSize:17];
    self.eVZsbUve = ebxtjEZGJszumSwl;
    
    DUHWleqOoxv *eHgxRoMwLXsuS = [DUHWleqOoxv kibrqNgCV:eQbcRuHrnm];
    eHgxRoMwLXsuS.translatesAutoresizingMaskIntoConstraints = NO;
    self.ezuKvVmpOUIQjeD = eHgxRoMwLXsuS;
    
    DUHWleqOoxv *efCebXl = [DUHWleqOoxv kibrqNgCV:eVEyjiwDNTypeAutoLoginPassword];
    efCebXl.translatesAutoresizingMaskIntoConstraints = NO;
    self.eubaPDwrHysfdj = efCebXl;
    
    UIView *ezHdxYy = [[UIView alloc]init];
    ezHdxYy.translatesAutoresizingMaskIntoConstraints = NO;
    ezHdxYy.backgroundColor = [UIColor clearColor];
    self.eQUDivVEView = ezHdxYy;
    
    
    DUGyrfoQ *ePmYgBI = [[DUGyrfoQ alloc]init];
    ePmYgBI.translatesAutoresizingMaskIntoConstraints = NO;
    ksqAJpjXTrcgnh(ePmYgBI, [DULCiQqMJAk kzqvYPK:kCwNfzgtTG()]);
    [ePmYgBI addTarget:self action:@selector(kQaFKDoRS:) forControlEvents:UIControlEventTouchUpInside];
    self.eeAKvgjizHJw = ePmYgBI;
    
    [self addSubview:self.eVZsbUve];
    [self addSubview:self.ezuKvVmpOUIQjeD];
    [self addSubview:self.eubaPDwrHysfdj];
    [self addSubview:self.eQUDivVEView];
    [self addSubview:self.eeAKvgjizHJw];
}

#pragma mark ---------- 填充内容
- (void)kKujZBJdNgf {
    NSString *eCEYSsLnTkwQUxzp = kugVnxNK();
    if (eCEYSsLnTkwQUxzp && eCEYSsLnTkwQUxzp.length) {
        NSString *eBVIOmLofsPQDU = kmuAocliCBYTW(eCEYSsLnTkwQUxzp);
        [self.ezuKvVmpOUIQjeD kFiftlVHNBPaQX:eCEYSsLnTkwQUxzp kHnyqoAY:NO];
        [self.eubaPDwrHysfdj kFiftlVHNBPaQX:eBVIOmLofsPQDU kHnyqoAY:NO];
    }
}



- (void)kFhumUEfn {
    
    self.eMQuBOarE = ktaMSrs();
    
    [DUjHPamSNKWkfM khXiHKlJYIcsWTb:self.eVZsbUve kjwoMfYHX:self.eMQuBOarE];
    [DUjHPamSNKWkfM kcNCfuJpSgtid:self.eVZsbUve kjwoMfYHX:kPofSGniBdetAa()];
    [DUjHPamSNKWkfM kdMvtuRCVqTon:self.eVZsbUve kjwoMfYHX:kPofSGniBdetAa()];
    [DUjHPamSNKWkfM kgrLjqVbGpvdykZl:self.eVZsbUve kjwoMfYHX:kDoRYcqQOnd()];
    
    self.eMQuBOarE += kDoRYcqQOnd();
    self.eMQuBOarE += kPofSGniBdetAa();
    
    [DUjHPamSNKWkfM khXiHKlJYIcsWTb:self.ezuKvVmpOUIQjeD kjwoMfYHX:self.eMQuBOarE];
    [DUjHPamSNKWkfM ktGjyplNWv:self.ezuKvVmpOUIQjeD kjwoMfYHX:0];
    [DUjHPamSNKWkfM kYzDgmEuJZa:self.ezuKvVmpOUIQjeD kjwoMfYHX:kExuNVS()];
    [DUjHPamSNKWkfM kgrLjqVbGpvdykZl:self.ezuKvVmpOUIQjeD kjwoMfYHX:kDoRYcqQOnd()];
    
    self.eMQuBOarE += kDoRYcqQOnd();
    self.eMQuBOarE += kPofSGniBdetAa();
    
    [DUjHPamSNKWkfM khXiHKlJYIcsWTb:self.eubaPDwrHysfdj kjwoMfYHX:self.eMQuBOarE];
    [DUjHPamSNKWkfM ktGjyplNWv:self.eubaPDwrHysfdj kjwoMfYHX:0];
    [DUjHPamSNKWkfM kYzDgmEuJZa:self.eubaPDwrHysfdj kjwoMfYHX:kExuNVS()];
    [DUjHPamSNKWkfM kgrLjqVbGpvdykZl:self.eubaPDwrHysfdj kjwoMfYHX:kDoRYcqQOnd()];
    
    self.eMQuBOarE += kDoRYcqQOnd();
    self.eMQuBOarE += ktaMSrs();
    [DUjHPamSNKWkfM khXiHKlJYIcsWTb:self.eQUDivVEView kjwoMfYHX:self.eMQuBOarE];
    [DUjHPamSNKWkfM kcNCfuJpSgtid:self.eQUDivVEView kjwoMfYHX:khSRvCsVT()];
    [DUjHPamSNKWkfM kdMvtuRCVqTon:self.eQUDivVEView kjwoMfYHX:khSRvCsVT()];
    [DUjHPamSNKWkfM kgrLjqVbGpvdykZl:self.eQUDivVEView kjwoMfYHX:kDoRYcqQOnd() + 10];
    
    self.eMQuBOarE += (kDoRYcqQOnd() + 10);
    self.eMQuBOarE += khSRvCsVT();
    [DUjHPamSNKWkfM khXiHKlJYIcsWTb:self.eeAKvgjizHJw kjwoMfYHX:self.eMQuBOarE];
    [DUjHPamSNKWkfM ktGjyplNWv:self.eeAKvgjizHJw kjwoMfYHX:0];
    [DUjHPamSNKWkfM kYzDgmEuJZa:self.eeAKvgjizHJw kjwoMfYHX:kcNsoFWewpBQT()];
    [DUjHPamSNKWkfM kgrLjqVbGpvdykZl:self.eeAKvgjizHJw kjwoMfYHX:kiHIVjCQRJ()];
    self.eMQuBOarE += kDoRYcqQOnd();
}

#pragma mark ---------- autoLogin
- (void)kpjXwhOHiPo:(NSString *)account password:(NSString *)password {
    NSAssert(account, @"account nil");
    NSAssert(password, @"account nil");
    NSDictionary *para = @{
                           @"user_name": account,
                           @"password": password,
                           @"adv_id": kXsJmMxSNAyp(),
                           @"channel_id": kGxWjgvIUlbJhFoO(),
                           @"material_id": @"0",
                           @"gid": kEJsVuODloh(),
                           @"sub_gid": kOVNImM(),
                           @"platform_id": @"0",
                           @"device_code": kGvYpKkCRTLiA()
                           };
    __weak typeof(self) weakSelf = self;
    [DUyUrAEagzMZ kdSzeClsBhOtZIYxIndicatorWithTitlte:@"登陆中..."];
    [self.eAOtpGhKNyQ kXLPOEpCBozkZM:kdVsQXMLpqh() parameters:para];
    self.eAOtpGhKNyQ.kurcxnG = ^(DUmYyxdWPjbsfI *object) {
        dispatch_async(dispatch_get_main_queue(), ^{
            [DUyUrAEagzMZ kmBSjbQ];
            [weakSelf kTtJQviBpSo:object];
        });
    };
    self.eAOtpGhKNyQ.kkMohviBYIVtrnEm = ^(NSError *error) {
        dispatch_async(dispatch_get_main_queue(), ^{
           
            [DUyUrAEagzMZ kmBSjbQ];
            [DUyUrAEagzMZ kdSzeClsBhOtZIYxErrorMessage:@"网络出了小差!!!"];
            if (weakSelf.kigEsrvyBqjQPAUC) {
                weakSelf.kigEsrvyBqjQPAUC();
            }
        });
    };
}

/// 登陆成功
- (void)kTtJQviBpSo:(DUmYyxdWPjbsfI *)memberLoginModel {
    if (memberLoginModel.ebTBquLMZ == 200) {
        kqsEGtorOQ(memberLoginModel.eGzNRZFM);
        kZjvHqnW(memberLoginModel.eHKOtDbFEsVUQThW);
        /// 保存账户
        kgLROBiPX(self.ezuKvVmpOUIQjeD.eegFcbrRpD);
        /// 保存最后登陆的账户
        ktkehrHfaJV(self.ezuKvVmpOUIQjeD.eegFcbrRpD);
        /// 保存账户密码
        kLZcFgxmYytaunN(memberLoginModel.eWmXbyHJhiYDB);
        krIVPZxslkvLmD(self.eubaPDwrHysfdj.eegFcbrRpD, self.ezuKvVmpOUIQjeD.eegFcbrRpD);

        NSDictionary *userInfo = @{
                                   @"uid": memberLoginModel.eGzNRZFM,
                                   @"username": memberLoginModel.eHKOtDbFEsVUQThW
                                   };
        kXQPAZNUwrm(eMapQoRwN, nil, userInfo);
        BOOL eWzAOZt = NO;
        BOOL eqUnENAlvyJLoQp = NO;
        if ([memberLoginModel.eSILRhOzGbpCrli isEqualToString:@"1"]) {
            /// 没有绑定手机
            eWzAOZt = YES;
        }
        if ([memberLoginModel.eWmXbyHJhiYDB isEqualToString:@"1"]) {
            /// 没有绑定身份证
            eqUnENAlvyJLoQp = YES;
        }
        if (self.kMQdkvGJsYV) {
            self.kMQdkvGJsYV(eWzAOZt, eqUnENAlvyJLoQp);
        }
    } else {
        if (memberLoginModel.euwmDFU) {
            [DUyUrAEagzMZ kdSzeClsBhOtZIYxErrorMessage:memberLoginModel.euwmDFU];
        }
        if (self.kigEsrvyBqjQPAUC) {
            self.kigEsrvyBqjQPAUC();
        }
    }
}



#pragma mark ---------- 取消自动登录
- (void)kQaFKDoRS:(UIButton *)sender {
    if (self.kDgdraxnjk) {
        self.eGpagrvATy = YES;
        self.kDgdraxnjk();
    }
}

-(DUmYyxdWPjbsfI *)eAOtpGhKNyQ {
    if (!_eAOtpGhKNyQ) {
        _eAOtpGhKNyQ = [[DUmYyxdWPjbsfI alloc]init];
    }
    return _eAOtpGhKNyQ;
}


@end
