

#import "DUxfYatjiTF.h"
#import "DUjmZRSlJeTuw.h"

#import "DUGyrfoQ.h"
#import "DUHWleqOoxv.h"
#import "DULCiQqMJAk.h"
#import "DUjHPamSNKWkfM.h"
#import "DUGcbRnKpJlPkyoY.h"
#import "DUIBriUTudq.h"
#import "DUrIzqAQF.h"
#import "DUmDPUYiM.h"
#import "DUprVCRzBgiI.h"
@interface DUxfYatjiTF ()

@property (nonatomic, readwrite, strong) UILabel *eVZsbUve;

@property (nonatomic, readwrite, strong) UIButton *eKTYJzc;

@property (nonatomic, readwrite, strong) DUHWleqOoxv *ezuKvVmpOUIQjeD;

@property (nonatomic, readwrite, strong) DUHWleqOoxv *eubaPDwrHysfdj;

@property (nonatomic, readwrite, strong) DUHWleqOoxv *eGZYOtlsNhargDe;

@property (nonatomic, readwrite, strong) DUGyrfoQ *eeAKvgjizHJw;

@property (nonatomic, readwrite, assign) CGFloat eMQuBOarE;

@property (nonatomic, readwrite, strong) DUjmZRSlJeTuw *edOjkJGtXSubw;
@end


@implementation DUxfYatjiTF

#pragma mark ---------- public MethodNames
+(instancetype)kJacqZxldLN {
    DUxfYatjiTF *evOwshtfoQnG = [[DUxfYatjiTF alloc]init];
    evOwshtfoQnG.translatesAutoresizingMaskIntoConstraints = NO;
    return evOwshtfoQnG;
}

-(void)kDlfUmNpWuRzrgq {
    
    [self.ezuKvVmpOUIQjeD kFiftlVHNBPaQX:@"" kHnyqoAY:YES];
    [self.eubaPDwrHysfdj kFiftlVHNBPaQX:@"" kHnyqoAY:YES];
    [self.eGZYOtlsNhargDe kFiftlVHNBPaQX:@"" kHnyqoAY:YES];
    
}


#pragma mark --------------------------------------------------------------------------------

-(instancetype)init {
    self = [super init];
    if (self) {
        [self kORslhEpXSCDntq];
    }
    return self;;
}

- (void)layoutSubviews {
    [super layoutSubviews];
    [self kFhumUEfn];
}


- (void)kORslhEpXSCDntq {
    
    UILabel *ebxtjEZGJszumSwl = [[UILabel alloc]init];
    ebxtjEZGJszumSwl.translatesAutoresizingMaskIntoConstraints = NO;
    ebxtjEZGJszumSwl.text = kTUcOCXsMk();
    ebxtjEZGJszumSwl.textColor = [DULCiQqMJAk kzqvYPK:kCwNfzgtTG()];
    ebxtjEZGJszumSwl.textAlignment = NSTextAlignmentCenter;
    ebxtjEZGJszumSwl.font = [UIFont systemFontOfSize:17];
    _eVZsbUve = ebxtjEZGJszumSwl;
    
    UIButton *eKTYJzc = [[UIButton alloc]init];
    eKTYJzc.translatesAutoresizingMaskIntoConstraints = NO;
    kFmfKVYBsqOuoxQD(eKTYJzc, [DULCiQqMJAk kzqvYPK:kCwNfzgtTG()]);
    [eKTYJzc addTarget:self action:@selector(kvABkErUSyhAction:) forControlEvents:UIControlEventTouchUpInside];
    _eKTYJzc = eKTYJzc;
    
    DUHWleqOoxv *eHgxRoMwLXsuS = [DUHWleqOoxv kibrqNgCV:eDevgGW];
    eHgxRoMwLXsuS.translatesAutoresizingMaskIntoConstraints = NO;
    _ezuKvVmpOUIQjeD = eHgxRoMwLXsuS;
    
    DUHWleqOoxv *efCebXl = [DUHWleqOoxv kibrqNgCV:eEyraOCdKBGwnZHt];
    efCebXl.translatesAutoresizingMaskIntoConstraints = NO;
    __weak typeof(self) weakSelf = self;
    efCebXl.ktrzxpvMY = ^NSDictionary *(BOOL enable) {
        if (!enable) {
            NSString *phone = @"";
            if (weakSelf.ezuKvVmpOUIQjeD.eegFcbrRpD.length) {
                phone = weakSelf.ezuKvVmpOUIQjeD.eegFcbrRpD;
            }
            NSDictionary *para = @{
                                   @"phone": phone,
                                   @"type": @(1)
                                   };
            return para;
        }
        return nil;
    };
    _eubaPDwrHysfdj = efCebXl;
    
    DUHWleqOoxv *emcOqoSJiX = [DUHWleqOoxv kibrqNgCV:eVEyjiwDNTypeFindBackPasswordPassword];
    emcOqoSJiX.translatesAutoresizingMaskIntoConstraints = NO;
    _eGZYOtlsNhargDe = emcOqoSJiX;
    
    DUGyrfoQ *ePmYgBI = [[DUGyrfoQ alloc]init];
    ePmYgBI.translatesAutoresizingMaskIntoConstraints = NO;
    kuSalcM(ePmYgBI, [DULCiQqMJAk kzqvYPK:kCwNfzgtTG()]);
    [ePmYgBI addTarget:self action:@selector(kYNuzsjLKwofUP:) forControlEvents:UIControlEventTouchUpInside];
    _eeAKvgjizHJw = ePmYgBI;
    
    [self addSubview:_eVZsbUve];
    [self addSubview:_eKTYJzc];
    [self addSubview:_ezuKvVmpOUIQjeD];
    [self addSubview:_eubaPDwrHysfdj];
    [self addSubview:_eGZYOtlsNhargDe];
    [self addSubview:_eeAKvgjizHJw];
    
    [_ezuKvVmpOUIQjeD khNyZHtvxA:ekMeNQzvjgtJhSnA];
    [_eubaPDwrHysfdj khNyZHtvxA:ekMeNQzvjgtJhSnA];
    [_eGZYOtlsNhargDe khNyZHtvxA:etVQXNiY];
    _ezuKvVmpOUIQjeD.kjJCATGYMWmDpeI = ^{
        [weakSelf.eubaPDwrHysfdj kQbayuBH];
    };
    _eubaPDwrHysfdj.kjJCATGYMWmDpeI = ^{
        [weakSelf.eGZYOtlsNhargDe kQbayuBH];
    };
    
}

- (void)kFhumUEfn {
    
    self.eMQuBOarE = ktaMSrs();
    
    [DUjHPamSNKWkfM khXiHKlJYIcsWTb:_eVZsbUve kjwoMfYHX:self.eMQuBOarE];
    [DUjHPamSNKWkfM kcNCfuJpSgtid:_eVZsbUve kjwoMfYHX:kPofSGniBdetAa()];
    [DUjHPamSNKWkfM kdMvtuRCVqTon:_eVZsbUve kjwoMfYHX:kPofSGniBdetAa()];
    [DUjHPamSNKWkfM kgrLjqVbGpvdykZl:_eVZsbUve kjwoMfYHX:kDoRYcqQOnd() + 10];
    
    [DUjHPamSNKWkfM khXiHKlJYIcsWTb:_eKTYJzc kjwoMfYHX:self.eMQuBOarE];
    [DUjHPamSNKWkfM kcNCfuJpSgtid:_eKTYJzc kjwoMfYHX:khSRvCsVT()];
    [DUjHPamSNKWkfM kYzDgmEuJZa:_eKTYJzc kjwoMfYHX:kQwnLDEgevqK()];
    [DUjHPamSNKWkfM kgrLjqVbGpvdykZl:_eKTYJzc kjwoMfYHX:kQwnLDEgevqK()];
    
    self.eMQuBOarE += kDoRYcqQOnd() + 10;
    self.eMQuBOarE += kPofSGniBdetAa();
    
    [DUjHPamSNKWkfM khXiHKlJYIcsWTb:self.ezuKvVmpOUIQjeD kjwoMfYHX:self.eMQuBOarE];
    [DUjHPamSNKWkfM ktGjyplNWv:self.ezuKvVmpOUIQjeD kjwoMfYHX:0];
    [DUjHPamSNKWkfM kYzDgmEuJZa:self.ezuKvVmpOUIQjeD kjwoMfYHX:kExuNVS()];
    [DUjHPamSNKWkfM kgrLjqVbGpvdykZl:self.ezuKvVmpOUIQjeD kjwoMfYHX:kDoRYcqQOnd()];
    
    self.eMQuBOarE += kDoRYcqQOnd();
    self.eMQuBOarE += ktaMSrs();
    
    [DUjHPamSNKWkfM khXiHKlJYIcsWTb:self.eubaPDwrHysfdj kjwoMfYHX:self.eMQuBOarE];
    [DUjHPamSNKWkfM ktGjyplNWv:self.eubaPDwrHysfdj kjwoMfYHX:0];
    [DUjHPamSNKWkfM kYzDgmEuJZa:self.eubaPDwrHysfdj kjwoMfYHX:kExuNVS()];
    [DUjHPamSNKWkfM kgrLjqVbGpvdykZl:self.eubaPDwrHysfdj kjwoMfYHX:kDoRYcqQOnd()];
    
    self.eMQuBOarE += kDoRYcqQOnd();
    self.eMQuBOarE += ktaMSrs();
    
    [DUjHPamSNKWkfM khXiHKlJYIcsWTb:self.eGZYOtlsNhargDe kjwoMfYHX:self.eMQuBOarE];
    [DUjHPamSNKWkfM ktGjyplNWv:self.eGZYOtlsNhargDe kjwoMfYHX:0];
    [DUjHPamSNKWkfM kYzDgmEuJZa:self.eGZYOtlsNhargDe kjwoMfYHX:kExuNVS()];
    [DUjHPamSNKWkfM kgrLjqVbGpvdykZl:self.eGZYOtlsNhargDe kjwoMfYHX:kDoRYcqQOnd()];
    
    self.eMQuBOarE += kDoRYcqQOnd();
    self.eMQuBOarE += ktaMSrs() * 2;
    
    [DUjHPamSNKWkfM khXiHKlJYIcsWTb:self.eeAKvgjizHJw kjwoMfYHX:self.eMQuBOarE];
    [DUjHPamSNKWkfM ktGjyplNWv:self.eeAKvgjizHJw kjwoMfYHX:0];
    [DUjHPamSNKWkfM kYzDgmEuJZa:self.eeAKvgjizHJw kjwoMfYHX:kcNsoFWewpBQT()];
    [DUjHPamSNKWkfM kgrLjqVbGpvdykZl:self.eeAKvgjizHJw kjwoMfYHX:kiHIVjCQRJ()];
    
    self.eMQuBOarE += kDoRYcqQOnd();
    [self kTLrBoKzIJa];
}
#pragma mark ---------- 计算输入框的位置
- (void)kTLrBoKzIJa {
    if (CGRectGetHeight(self.ezuKvVmpOUIQjeD.bounds)) {
        [self kJHuExWpsqVKfl:self.ezuKvVmpOUIQjeD];
    }
    if (CGRectGetHeight(self.eubaPDwrHysfdj.bounds)) {
        [self kJHuExWpsqVKfl:self.eubaPDwrHysfdj];
    }
    if (CGRectGetHeight(self.eGZYOtlsNhargDe.bounds)) {
        [self kJHuExWpsqVKfl:self.eGZYOtlsNhargDe];
    }
}
- (void)kJHuExWpsqVKfl:(DUHWleqOoxv *)elpZwvNR {
    UIWindow *window = kOjcdzAgI();
    CGRect rect = [elpZwvNR convertRect:elpZwvNR.bounds toView:window];
    CGFloat eIpxfwWAXvzMaxY = CGRectGetMaxY(rect);
    [elpZwvNR kJHuExWpsqVKfl:eIpxfwWAXvzMaxY];
}

#pragma mark ---------- back Action
-(void)kvABkErUSyhAction:(UIButton *)sender {
    if (self.kvABkErUSyhAction) {
        [self kDlfUmNpWuRzrgq];
        self.hidden = YES;
        self.kvABkErUSyhAction();
        [self removeFromSuperview];
    }
}

#pragma mark ---------- button Action
- (void)kYNuzsjLKwofUP:(UIButton *)sener {
    NSString *account = self.ezuKvVmpOUIQjeD.eegFcbrRpD;
    NSString *code = self.eubaPDwrHysfdj.eegFcbrRpD;
    NSString *password = self.eGZYOtlsNhargDe.eegFcbrRpD;
    if (!account || !account.length) {
        [DUyUrAEagzMZ kdSzeClsBhOtZIYxErrorMessage:@"请输入手机号"];
        return;
    }
    if (!code || !code.length) {
        [DUyUrAEagzMZ kdSzeClsBhOtZIYxErrorMessage:@"请输入验证码"];
        return;
    }
    if (!password || !password.length) {
        [DUyUrAEagzMZ kdSzeClsBhOtZIYxErrorMessage:@"请输入密码"];
        return;
    }
    if (!kzJomuDbFgVxtUfX(password)) {
        [DUyUrAEagzMZ kdSzeClsBhOtZIYxErrorMessage:@"密码格式有误"];
        return;
    }
    NSDictionary *para = @{
                           @"phone": account,
                           @"password": password,
                           @"code": code
                           };
    __weak typeof(self) weakSelf = self;
    [DUyUrAEagzMZ kdSzeClsBhOtZIYxIndicatorWithTitlte:@"正在找回..."];
    [self.edOjkJGtXSubw kXLPOEpCBozkZM:kkalWsz() parameters:para];
    self.edOjkJGtXSubw.kurcxnG = ^(DUjmZRSlJeTuw *object) {
        dispatch_async(dispatch_get_main_queue(), ^{
            [DUyUrAEagzMZ kmBSjbQ];
            if (object.ebTBquLMZ == 200) {
//                [DUyUrAEagzMZ kqSsTXv:@"修改新密码成功"];
                [weakSelf kqvPMBwgsEauVf];
                if (weakSelf.kDsFGXQPWn) {
                    weakSelf.kDsFGXQPWn();
                }
            } else {
                [DUyUrAEagzMZ kdSzeClsBhOtZIYxErrorMessage:@"修改失败"];
            }
        });
    };
    self.edOjkJGtXSubw.kkMohviBYIVtrnEm = ^(NSError *error) {
        dispatch_async(dispatch_get_main_queue(), ^{
            [DUyUrAEagzMZ kmBSjbQ];
            [DUyUrAEagzMZ kdSzeClsBhOtZIYxErrorMessage:@"网络出了小差!!!"];
        });
    };
}

#pragma mark ---------- 情况内容
- (void)kqvPMBwgsEauVf {
    [self.ezuKvVmpOUIQjeD kFiftlVHNBPaQX:@"" kHnyqoAY:YES];
    [self.eubaPDwrHysfdj kFiftlVHNBPaQX:@"" kHnyqoAY:YES];
    [self.eGZYOtlsNhargDe kFiftlVHNBPaQX:@"" kHnyqoAY:YES];
}




-(DUjmZRSlJeTuw *)edOjkJGtXSubw {
    if (!_edOjkJGtXSubw) {
        _edOjkJGtXSubw = [[DUjmZRSlJeTuw alloc]init];
    }
    return _edOjkJGtXSubw;
}

@end
