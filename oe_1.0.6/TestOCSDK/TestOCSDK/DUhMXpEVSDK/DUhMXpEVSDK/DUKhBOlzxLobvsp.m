

#import "DUKhBOlzxLobvsp.h"
#import "DUjmZRSlJeTuw.h"
#import "DUrIzqAQF.h"

#import "DUHWleqOoxv.h"
#import "DUGyrfoQ.h"
#import "DULCiQqMJAk.h"
#import "DUjHPamSNKWkfM.h"
#import "DUGcbRnKpJlPkyoY.h"
#import "DUPnFUxRSujZJwh.h"
#import "DUIBriUTudq.h"
#import "DUmDPUYiM.h"
#import "DUngTeHD.h"

@interface DUKhBOlzxLobvsp ()

@property (nonatomic, readwrite, strong) UILabel *eVZsbUve;

@property (nonatomic, readwrite, strong) UIButton *eNMFtukGi;

@property (nonatomic, readwrite, strong) DUHWleqOoxv *ezuKvVmpOUIQjeD;

@property (nonatomic, readwrite, strong) DUHWleqOoxv *eubaPDwrHysfdj;

@property (nonatomic, readwrite, strong) DUGyrfoQ *eeAKvgjizHJw;

@property (nonatomic, readwrite, assign) CGFloat eMQuBOarE;

@property (nonatomic, readwrite, strong) DUjmZRSlJeTuw *eRwLfIXOkzVEctyP;

@end


@implementation DUKhBOlzxLobvsp

#pragma mark ---------- public MethodNames
+(instancetype)kAraRISWYXw {
    DUKhBOlzxLobvsp *eYqgNkEpUdyXwmG = [[DUKhBOlzxLobvsp alloc]init];
    eYqgNkEpUdyXwmG.translatesAutoresizingMaskIntoConstraints = NO;
    return eYqgNkEpUdyXwmG;
}


#pragma mark ----------------------------------------------------------------------

-(instancetype)init {
    self = [super init];
    if (self) {
        [self kORslhEpXSCDntq];
    }
    return self;
}

- (void)layoutSubviews {
    [super layoutSubviews];
    [self kFhumUEfn];
}


- (void)kORslhEpXSCDntq {
    
    UILabel *ebxtjEZGJszumSwl = [[UILabel alloc]init];
    ebxtjEZGJszumSwl.translatesAutoresizingMaskIntoConstraints = NO;
    ebxtjEZGJszumSwl.text = kchpFzJwQMSOoPY();
    ebxtjEZGJszumSwl.textColor = [DULCiQqMJAk kzqvYPK:kCwNfzgtTG()];
    ebxtjEZGJszumSwl.textAlignment = NSTextAlignmentCenter;
    ebxtjEZGJszumSwl.font = [UIFont systemFontOfSize:17];
    self.eVZsbUve = ebxtjEZGJszumSwl;
    
    UIButton *eNMFtukGi = [[UIButton alloc]init];
    eNMFtukGi.translatesAutoresizingMaskIntoConstraints = NO;
    [eNMFtukGi addTarget:self action:@selector(koduIhPswFvR:) forControlEvents:UIControlEventTouchUpInside];
    kMeBlUGARsKb(eNMFtukGi, [DULCiQqMJAk kzqvYPK:kCwNfzgtTG()]);
    self.eNMFtukGi = eNMFtukGi;
    
    
    DUHWleqOoxv *eHgxRoMwLXsuS = [DUHWleqOoxv kibrqNgCV:eVEyjiwDNTypeBindPersonIDName];
    eHgxRoMwLXsuS.translatesAutoresizingMaskIntoConstraints = NO;
    self.ezuKvVmpOUIQjeD = eHgxRoMwLXsuS;
    
    DUHWleqOoxv *efCebXl = [DUHWleqOoxv kibrqNgCV:eVEyjiwDNTypeBindPersonIDCard];
    efCebXl.translatesAutoresizingMaskIntoConstraints = NO;
    self.eubaPDwrHysfdj = efCebXl;
    
    DUGyrfoQ *ePmYgBI = [[DUGyrfoQ alloc]init];
    ePmYgBI.translatesAutoresizingMaskIntoConstraints = NO;
    kuSalcM(ePmYgBI, [DULCiQqMJAk kzqvYPK:kCwNfzgtTG()]);
    [ePmYgBI addTarget:self action:@selector(kYNuzsjLKwofUP:) forControlEvents:UIControlEventTouchUpInside];
    self.eeAKvgjizHJw = ePmYgBI;
    
    [self addSubview:self.eVZsbUve];
    [self addSubview:self.eNMFtukGi];
    [self addSubview:self.ezuKvVmpOUIQjeD];
    [self addSubview:self.eubaPDwrHysfdj];
    [self addSubview:self.eeAKvgjizHJw];
    
    __weak typeof(self) weakSelf = self;
    [self.ezuKvVmpOUIQjeD khNyZHtvxA:ekMeNQzvjgtJhSnA];
    [self.eubaPDwrHysfdj khNyZHtvxA:etVQXNiY];
    self.ezuKvVmpOUIQjeD.kjJCATGYMWmDpeI = ^{
        [weakSelf.eubaPDwrHysfdj kQbayuBH];
    };
    
}

- (void)kFhumUEfn {
    
    self.eMQuBOarE = khSRvCsVT();
    
    [DUjHPamSNKWkfM khXiHKlJYIcsWTb:self.eVZsbUve kjwoMfYHX:self.eMQuBOarE];
    [DUjHPamSNKWkfM kcNCfuJpSgtid:self.eVZsbUve kjwoMfYHX:kPofSGniBdetAa()];
    [DUjHPamSNKWkfM kdMvtuRCVqTon:self.eVZsbUve kjwoMfYHX:kPofSGniBdetAa()];
    [DUjHPamSNKWkfM kgrLjqVbGpvdykZl:self.eVZsbUve kjwoMfYHX:kDoRYcqQOnd()];
    
    /// closeBtn
    [DUjHPamSNKWkfM khXiHKlJYIcsWTb:self.eNMFtukGi kjwoMfYHX:self.eMQuBOarE - 5];
    [DUjHPamSNKWkfM kdMvtuRCVqTon:self.eNMFtukGi kjwoMfYHX:khSRvCsVT()];
    [DUjHPamSNKWkfM kYzDgmEuJZa:self.eNMFtukGi kjwoMfYHX:kmaGeEPbBXHK()];
    [DUjHPamSNKWkfM kgrLjqVbGpvdykZl:self.eNMFtukGi kjwoMfYHX:kmaGeEPbBXHK()];
    
    self.eMQuBOarE += kDoRYcqQOnd();
    self.eMQuBOarE += khSRvCsVT();
    
    [DUjHPamSNKWkfM khXiHKlJYIcsWTb:self.ezuKvVmpOUIQjeD kjwoMfYHX:self.eMQuBOarE];
    [DUjHPamSNKWkfM ktGjyplNWv:self.ezuKvVmpOUIQjeD kjwoMfYHX:0];
    [DUjHPamSNKWkfM kYzDgmEuJZa:self.ezuKvVmpOUIQjeD kjwoMfYHX:kExuNVS()];
    [DUjHPamSNKWkfM kgrLjqVbGpvdykZl:self.ezuKvVmpOUIQjeD kjwoMfYHX:kDoRYcqQOnd()];
    
    self.eMQuBOarE += kDoRYcqQOnd();
    self.eMQuBOarE += khSRvCsVT();
    
    [DUjHPamSNKWkfM khXiHKlJYIcsWTb:self.eubaPDwrHysfdj kjwoMfYHX:self.eMQuBOarE];
    [DUjHPamSNKWkfM ktGjyplNWv:self.eubaPDwrHysfdj kjwoMfYHX:0];
    [DUjHPamSNKWkfM kYzDgmEuJZa:self.eubaPDwrHysfdj kjwoMfYHX:kExuNVS()];
    [DUjHPamSNKWkfM kgrLjqVbGpvdykZl:self.eubaPDwrHysfdj kjwoMfYHX:kDoRYcqQOnd()];
    
    self.eMQuBOarE += kDoRYcqQOnd();
    self.eMQuBOarE += (khSRvCsVT() * 2);
    
    [DUjHPamSNKWkfM khXiHKlJYIcsWTb:self.eeAKvgjizHJw kjwoMfYHX:self.eMQuBOarE];
    [DUjHPamSNKWkfM ktGjyplNWv:self.eeAKvgjizHJw kjwoMfYHX:0];
    [DUjHPamSNKWkfM kYzDgmEuJZa:self.eeAKvgjizHJw kjwoMfYHX:kcNsoFWewpBQT()];
    [DUjHPamSNKWkfM kgrLjqVbGpvdykZl:self.eeAKvgjizHJw kjwoMfYHX:kiHIVjCQRJ()];
    
    self.eMQuBOarE += kDoRYcqQOnd();
    [self kTLrBoKzIJa];
}
#pragma mark ---------- 计算输入框的位置
- (void)kTLrBoKzIJa {
    if (CGRectGetHeight(self.ezuKvVmpOUIQjeD.bounds)) {
        [self kJHuExWpsqVKfl:self.ezuKvVmpOUIQjeD];
    }
    if (CGRectGetHeight(self.eubaPDwrHysfdj.bounds)) {
        [self kJHuExWpsqVKfl:self.eubaPDwrHysfdj];
    }
}
- (void)kJHuExWpsqVKfl:(DUHWleqOoxv *)elpZwvNR {
    UIWindow *window = kOjcdzAgI();
    CGRect rect = [elpZwvNR convertRect:elpZwvNR.bounds toView:window];
    CGFloat eIpxfwWAXvzMaxY = CGRectGetMaxY(rect);
    [elpZwvNR kJHuExWpsqVKfl:eIpxfwWAXvzMaxY];
}

#pragma mark ---------- button Action
- (void)koduIhPswFvR:(UIButton *)sender {
    if (self.keQLHZkIwaXO) {
        self.hidden = YES;
        [self removeFromSuperview];
        self.keQLHZkIwaXO();
    }
}

- (void)kYNuzsjLKwofUP:(UIButton *)sender {
    NSString *name = self.ezuKvVmpOUIQjeD.eegFcbrRpD;
    NSString *personid = self.eubaPDwrHysfdj.eegFcbrRpD;
    
    if (!name || !name.length) {
        [DUyUrAEagzMZ kdSzeClsBhOtZIYxErrorMessage:@"请输入真实姓名"];
        return;
    }
    if (!kJEACegW(name)) {
        [DUyUrAEagzMZ kdSzeClsBhOtZIYxErrorMessage:@"姓名格式有误"];
        return;
    }
    if (!personid || !personid.length) {
        [DUyUrAEagzMZ kdSzeClsBhOtZIYxErrorMessage:@"请输入身份证号码"];
        return;
    }
    
    if (!kDKwPpLdQelFNs(personid)) {
        [DUyUrAEagzMZ kdSzeClsBhOtZIYxErrorMessage:@"身份证格式有误"];
        return;
    }
    NSDictionary *para = @{
                           @"user_name": kgIYHJEOb(),
                           @"real_name": name,
                           @"idcard": personid
                           };
    
    __weak typeof(self) weakSelf = self;
    [DUyUrAEagzMZ kdSzeClsBhOtZIYxIndicatorWithTitlte:@"正在绑定..."];
    [self.eRwLfIXOkzVEctyP kXLPOEpCBozkZM:kMgeQSEVbIG() parameters:para];
    self.eRwLfIXOkzVEctyP.kurcxnG = ^(DUjmZRSlJeTuw *object) {
        dispatch_async(dispatch_get_main_queue(), ^{
            [DUyUrAEagzMZ kmBSjbQ];
            if (object.ebTBquLMZ == 200) {
//                [DUyUrAEagzMZ kqSsTXv:object.euwmDFU];
                dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(0.8 * NSEC_PER_SEC)), dispatch_get_main_queue(), ^{
                    if (weakSelf.khKBmEA) {
                        weakSelf.khKBmEA();
                    }
                });
            } else {
                if (object.euwmDFU) {
                    [DUyUrAEagzMZ kdSzeClsBhOtZIYxErrorMessage:object.euwmDFU];
                }
            }
        });
        
    };
    self.eRwLfIXOkzVEctyP.kkMohviBYIVtrnEm = ^(NSError *error) {
        dispatch_async(dispatch_get_main_queue(), ^{
            [DUyUrAEagzMZ kmBSjbQ];
            [DUyUrAEagzMZ kdSzeClsBhOtZIYxErrorMessage:@"网络出了小差!!!"];
        });
    };
}





-(DUjmZRSlJeTuw *)eRwLfIXOkzVEctyP {
    if (!_eRwLfIXOkzVEctyP) {
        _eRwLfIXOkzVEctyP = [[DUjmZRSlJeTuw alloc]init];
    }
    return _eRwLfIXOkzVEctyP;
}


@end
