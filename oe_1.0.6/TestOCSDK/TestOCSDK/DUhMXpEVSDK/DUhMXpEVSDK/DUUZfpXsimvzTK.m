
#import "DUUZfpXsimvzTK.h"

#import "DUGyrfoQ.h"
#import "DUHWleqOoxv.h"
#import "DULCiQqMJAk.h"
#import "DUjHPamSNKWkfM.h"
#import "DUGcbRnKpJlPkyoY.h"
#import "DUrIzqAQF.h"
#import "DUNUKaTLX.h"
#import "DUmDPUYiM.h"
#import "DUyUrAEagzMZ.h"

@interface DUUZfpXsimvzTK ()

@property (nonatomic, readwrite, strong) UILabel *eVZsbUve;

@property (nonatomic, readwrite, strong) DUHWleqOoxv *ezuKvVmpOUIQjeD;

@property (nonatomic, readwrite, strong) DUHWleqOoxv *eubaPDwrHysfdj;

@property (nonatomic, readwrite, strong) DUGyrfoQ *eeAKvgjizHJw;

@property (nonatomic, readwrite, strong) DUGyrfoQ *ecsptaHQ;

@property (nonatomic, readwrite, assign) CGFloat eMQuBOarE;

@property (nonatomic, readwrite, assign) BOOL eNgHUdLwmRfexW;
@property (nonatomic, readwrite, strong) NSLayoutConstraint *ebQNzYBWIZiKVA;

@end


@implementation DUUZfpXsimvzTK

#pragma mark ---------- public MethodNames
+(instancetype)krMCuzIdYbQPG {
    DUUZfpXsimvzTK *eTygopLGvSmA = [[DUUZfpXsimvzTK alloc]init];
    eTygopLGvSmA.translatesAutoresizingMaskIntoConstraints = NO;
    return eTygopLGvSmA;
}

-(void)kdYkRjulNJQSimgO:(NSString *)eCEYSsLnTkwQUxzp kYaFhxTEUwPNlr:(NSString *)eBVIOmLofsPQDU {
    [self.ezuKvVmpOUIQjeD kFiftlVHNBPaQX:eCEYSsLnTkwQUxzp kHnyqoAY:NO];
    [self.eubaPDwrHysfdj kFiftlVHNBPaQX:eCEYSsLnTkwQUxzp kHnyqoAY:NO];
    __weak typeof(self) weakSelf = self;
    [DUyUrAEagzMZ kmBSjbQ];
    dispatch_after(dispatch_time(DISPATCH_TIME_NOW, (int64_t)(0.2 * NSEC_PER_SEC)), dispatch_get_main_queue(), ^{
        dispatch_async(dispatch_get_main_queue(), ^{
            UIImage *image = kxdScJkFZLKYCHj(kOjcdzAgI());
            UIImageWriteToSavedPhotosAlbum(image,weakSelf,@selector(image:didFinishSavingWithError:contextInfo:),nil);
        });
    });
}

- (void)knFYuoyBUIEtfc:(BOOL)ecrXyNZ {
    _eNgHUdLwmRfexW = ecrXyNZ;
    if (ecrXyNZ) {
        self.ecsptaHQ.hidden = NO;
    } else {
        self.ecsptaHQ.hidden = YES;
    }
}


#pragma mark ----------------------------------------------------------------------

-(instancetype)init {
    self = [super init];
    if (self) {
        [self kORslhEpXSCDntq];
    }
    return self;
}

- (void)layoutSubviews {
    [super layoutSubviews];
    [self kFhumUEfn];
}



- (void)kORslhEpXSCDntq {
    
    UILabel *ebxtjEZGJszumSwl = [[UILabel alloc]init];
    ebxtjEZGJszumSwl.translatesAutoresizingMaskIntoConstraints = NO;
    ebxtjEZGJszumSwl.text = kEhfuyTiqcLIdw();
    ebxtjEZGJszumSwl.textColor = [DULCiQqMJAk kzqvYPK:kCwNfzgtTG()];
    ebxtjEZGJszumSwl.textAlignment = NSTextAlignmentCenter;
    ebxtjEZGJszumSwl.font = [UIFont systemFontOfSize:17];
    self.eVZsbUve = ebxtjEZGJszumSwl;
    
    DUHWleqOoxv *eHgxRoMwLXsuS = [DUHWleqOoxv kibrqNgCV:ehoHpDZQ];
    eHgxRoMwLXsuS.translatesAutoresizingMaskIntoConstraints = NO;
    self.ezuKvVmpOUIQjeD = eHgxRoMwLXsuS;
    
    DUHWleqOoxv *efCebXl = [DUHWleqOoxv kibrqNgCV:eOPDJpiFGAteS];
    efCebXl.translatesAutoresizingMaskIntoConstraints = NO;
    self.eubaPDwrHysfdj = efCebXl;
    
    DUGyrfoQ *exgCkKOw = [[DUGyrfoQ alloc]init];
    exgCkKOw.translatesAutoresizingMaskIntoConstraints = NO;
    
    kWosRMAnjCavSec(exgCkKOw, [DULCiQqMJAk kzqvYPK:kCwNfzgtTG()]);
    [exgCkKOw addTarget:self action:@selector(kbysIoOcDFz:) forControlEvents:UIControlEventTouchUpInside];
    self.eeAKvgjizHJw = exgCkKOw;
    
    DUGyrfoQ *ejrYfoVZcuJFq = [[DUGyrfoQ alloc]init];
    ejrYfoVZcuJFq.translatesAutoresizingMaskIntoConstraints = NO;
    kCTIZqY(ejrYfoVZcuJFq, [DULCiQqMJAk kzqvYPK:kCwNfzgtTG()]);
    [ejrYfoVZcuJFq addTarget:self action:@selector(kOMtYhVrHZzIa:) forControlEvents:UIControlEventTouchUpInside];
    self.ecsptaHQ = ejrYfoVZcuJFq;
    
    [self addSubview:self.eVZsbUve];
    [self addSubview:self.ezuKvVmpOUIQjeD];
    [self addSubview:self.eubaPDwrHysfdj];
    [self addSubview:self.eeAKvgjizHJw];
    [self addSubview:self.ecsptaHQ];
}

- (void)kFhumUEfn {
    
    self.eMQuBOarE = ktaMSrs();
    
    [DUjHPamSNKWkfM khXiHKlJYIcsWTb:self.eVZsbUve kjwoMfYHX:self.eMQuBOarE];
    [DUjHPamSNKWkfM kcNCfuJpSgtid:self.eVZsbUve kjwoMfYHX:kPofSGniBdetAa()];
    [DUjHPamSNKWkfM kdMvtuRCVqTon:self.eVZsbUve kjwoMfYHX:kPofSGniBdetAa()];
    [DUjHPamSNKWkfM kgrLjqVbGpvdykZl:self.eVZsbUve kjwoMfYHX:kDoRYcqQOnd()];
    
    self.eMQuBOarE += kDoRYcqQOnd();
    self.eMQuBOarE += khSRvCsVT();
    
    [DUjHPamSNKWkfM khXiHKlJYIcsWTb:self.ezuKvVmpOUIQjeD kjwoMfYHX:self.eMQuBOarE];
    [DUjHPamSNKWkfM ktGjyplNWv:self.ezuKvVmpOUIQjeD kjwoMfYHX:0];
    [DUjHPamSNKWkfM kYzDgmEuJZa:self.ezuKvVmpOUIQjeD kjwoMfYHX:kExuNVS()];
    [DUjHPamSNKWkfM kgrLjqVbGpvdykZl:self.ezuKvVmpOUIQjeD kjwoMfYHX:kDoRYcqQOnd()];
    
    self.eMQuBOarE += kDoRYcqQOnd();
    self.eMQuBOarE += khSRvCsVT();
    
    [DUjHPamSNKWkfM khXiHKlJYIcsWTb:self.eubaPDwrHysfdj kjwoMfYHX:self.eMQuBOarE];
    [DUjHPamSNKWkfM ktGjyplNWv:self.eubaPDwrHysfdj kjwoMfYHX:0];
    [DUjHPamSNKWkfM kYzDgmEuJZa:self.eubaPDwrHysfdj kjwoMfYHX:kExuNVS()];
    [DUjHPamSNKWkfM kgrLjqVbGpvdykZl:self.eubaPDwrHysfdj kjwoMfYHX:kDoRYcqQOnd()];
    
    self.eMQuBOarE += kDoRYcqQOnd();
    self.eMQuBOarE += ktaMSrs() * 2;
    
    
    if (_eNgHUdLwmRfexW) {
        self.eMQuBOarE -= ktaMSrs();
        [DUjHPamSNKWkfM khXiHKlJYIcsWTb:_eeAKvgjizHJw kjwoMfYHX:_eMQuBOarE];
        [DUjHPamSNKWkfM ktGjyplNWv:_eeAKvgjizHJw kjwoMfYHX:0];
        [DUjHPamSNKWkfM kYzDgmEuJZa:_eeAKvgjizHJw kjwoMfYHX:kcNsoFWewpBQT()];
        [DUjHPamSNKWkfM kgrLjqVbGpvdykZl:_eeAKvgjizHJw kjwoMfYHX:kiHIVjCQRJ()];
        
        self.eMQuBOarE += kiHIVjCQRJ();
        self.eMQuBOarE += ktaMSrs();
        
        [DUjHPamSNKWkfM khXiHKlJYIcsWTb:_ecsptaHQ kjwoMfYHX:_eMQuBOarE];
        [DUjHPamSNKWkfM ktGjyplNWv:_ecsptaHQ kjwoMfYHX:0];
        [DUjHPamSNKWkfM kYzDgmEuJZa:_ecsptaHQ kjwoMfYHX:kcNsoFWewpBQT()];
        [DUjHPamSNKWkfM kgrLjqVbGpvdykZl:_ecsptaHQ kjwoMfYHX:kiHIVjCQRJ()];
    } else {
        
        self.eMQuBOarE += kiHIVjCQRJ()/2;
        [DUjHPamSNKWkfM khXiHKlJYIcsWTb:_eeAKvgjizHJw kjwoMfYHX:_eMQuBOarE];
        [DUjHPamSNKWkfM ktGjyplNWv:_eeAKvgjizHJw kjwoMfYHX:0];
        [DUjHPamSNKWkfM kYzDgmEuJZa:_eeAKvgjizHJw kjwoMfYHX:kcNsoFWewpBQT()];
        [DUjHPamSNKWkfM kgrLjqVbGpvdykZl:_eeAKvgjizHJw kjwoMfYHX:kiHIVjCQRJ()];
        
    }
    
    [self kTLrBoKzIJa];
}

#pragma mark ---------- 计算输入框的位置
- (void)kTLrBoKzIJa {
    if (CGRectGetHeight(self.ezuKvVmpOUIQjeD.bounds)) {
        [self kJHuExWpsqVKfl:self.ezuKvVmpOUIQjeD];
    }
    if (CGRectGetHeight(self.eubaPDwrHysfdj.bounds)) {
        [self kJHuExWpsqVKfl:self.eubaPDwrHysfdj];
    }
}
- (void)kJHuExWpsqVKfl:(DUHWleqOoxv *)elpZwvNR {
    UIWindow *window = kOjcdzAgI();
    CGRect rect = [elpZwvNR convertRect:elpZwvNR.bounds toView:window];
    CGFloat eIpxfwWAXvzMaxY = CGRectGetMaxY(rect);
    [elpZwvNR kJHuExWpsqVKfl:eIpxfwWAXvzMaxY];
}


#pragma mark ---------- button Action
- (void)kbysIoOcDFz:(UIButton *)sender {
    if (self.kWMpoGXLlFbYgks) {
        self.kWMpoGXLlFbYgks();
    }
}

- (void)kOMtYhVrHZzIa:(UIButton *)sender {
    if (self.kXtTBMO) {
        self.kXtTBMO();
    }
}

#pragma mark ---------- 保存图片
- (void)image:(UIImage*)image didFinishSavingWithError:(NSError*)error contextInfo:(void*)contextInfo{
    
    if(error) {
        [DUyUrAEagzMZ kdSzeClsBhOtZIYxErrorMessage:@"截图保存失败"];
        NSLog(@"保存截图失败");
    }else{
        [DUyUrAEagzMZ kqSsTXv:@"已截图保存到手机相册"];
        NSLog(@"保存截图成功");
    }
}


@end
