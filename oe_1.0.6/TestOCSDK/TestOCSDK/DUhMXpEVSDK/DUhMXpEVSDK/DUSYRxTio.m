

#import "DUSYRxTio.h"
#import "DUrIzqAQF.h"

#import "DUjmZRSlJeTuw.h"


#import "DUGyrfoQ.h"
#import "DUHWleqOoxv.h"
#import "DULCiQqMJAk.h"
#import "DUjHPamSNKWkfM.h"
#import "DUGcbRnKpJlPkyoY.h"
#import "DUIBriUTudq.h"
#import "DUmDPUYiM.h"
#import "DUprVCRzBgiI.h"
@interface DUSYRxTio ()

@property (nonatomic, readwrite, strong) UILabel *eVZsbUve;

@property (nonatomic, readwrite, strong) UIButton *eKTYJzc;

@property (nonatomic, readwrite, strong) DUHWleqOoxv *ezuKvVmpOUIQjeD;

@property (nonatomic, readwrite, strong) DUHWleqOoxv *eubaPDwrHysfdj;

@property (nonatomic, readwrite, strong) DUHWleqOoxv *eGZYOtlsNhargDe;

@property (nonatomic, readwrite, strong) DUHWleqOoxv *enjKIYil;

@property (nonatomic, readwrite, strong) DUGyrfoQ *eeAKvgjizHJw;

@property (nonatomic, readwrite, assign) CGFloat eMQuBOarE;

@property (nonatomic, readwrite, strong) DUjmZRSlJeTuw *ezBWxrAi;

@end


@implementation DUSYRxTio

#pragma mark ---------- public MethodNames
+(instancetype)kmvTetYyghDpZ {
    DUSYRxTio *eWtUMRVsdqvIbD = [[DUSYRxTio alloc]init];
    eWtUMRVsdqvIbD.translatesAutoresizingMaskIntoConstraints = NO;
    return eWtUMRVsdqvIbD;
}

-(void)kDlfUmNpWuRzrgq {
    
    [self.ezuKvVmpOUIQjeD kFiftlVHNBPaQX:@"" kHnyqoAY:YES];
    [self.eubaPDwrHysfdj kFiftlVHNBPaQX:@"" kHnyqoAY:YES];
    [self.eGZYOtlsNhargDe kFiftlVHNBPaQX:@"" kHnyqoAY:YES];
    [self.enjKIYil kFiftlVHNBPaQX:@"" kHnyqoAY:YES];
    
}


#pragma mark --------------------------------------------------------------------------------

-(instancetype)init {
    self = [super init];
    if (self) {
        
        
        [self kORslhEpXSCDntq];
    }
    return self;
}

- (void)layoutSubviews {
    [super layoutSubviews];
    [self kFhumUEfn];
}


- (void)kORslhEpXSCDntq {
    
    UILabel *ebxtjEZGJszumSwl = [[UILabel alloc]init];
    ebxtjEZGJszumSwl.translatesAutoresizingMaskIntoConstraints = NO;
    ebxtjEZGJszumSwl.text = kjuRlLmGnyJ();
    ebxtjEZGJszumSwl.textColor = [DULCiQqMJAk kzqvYPK:kCwNfzgtTG()];
    ebxtjEZGJszumSwl.textAlignment = NSTextAlignmentCenter;
    ebxtjEZGJszumSwl.font = [UIFont systemFontOfSize:17];
    self.eVZsbUve = ebxtjEZGJszumSwl;
    
    UIButton *eKTYJzc = [[UIButton alloc]init];
    eKTYJzc.translatesAutoresizingMaskIntoConstraints = NO;
    kFmfKVYBsqOuoxQD(eKTYJzc, [DULCiQqMJAk kzqvYPK:kCwNfzgtTG()]);
    [eKTYJzc addTarget:self action:@selector(kvABkErUSyhAction:) forControlEvents:UIControlEventTouchUpInside];
    _eKTYJzc = eKTYJzc;
    
    DUHWleqOoxv *eHgxRoMwLXsuS = [DUHWleqOoxv kibrqNgCV:eVEyjiwDNTypeResetPasswordAccount];
    eHgxRoMwLXsuS.translatesAutoresizingMaskIntoConstraints = NO;
    self.ezuKvVmpOUIQjeD = eHgxRoMwLXsuS;
    
    DUHWleqOoxv *efCebXl = [DUHWleqOoxv kibrqNgCV:eVEyjiwDNTypeResetPasswordPassword];
    efCebXl.translatesAutoresizingMaskIntoConstraints = NO;
    self.eubaPDwrHysfdj = efCebXl;
    
    DUHWleqOoxv *emcOqoSJiX = [DUHWleqOoxv kibrqNgCV:eVEyjiwDNTypeResetPasswordNewPassword];
    emcOqoSJiX.translatesAutoresizingMaskIntoConstraints = NO;
    self.eGZYOtlsNhargDe = emcOqoSJiX;
    
    DUHWleqOoxv *eysMFZbzVQplk = [DUHWleqOoxv kibrqNgCV:edzbJaSwPvj];
    eysMFZbzVQplk.translatesAutoresizingMaskIntoConstraints = NO;
    self.enjKIYil = eysMFZbzVQplk;
    
    DUGyrfoQ *ePmYgBI = [[DUGyrfoQ alloc]init];
    ePmYgBI.translatesAutoresizingMaskIntoConstraints = NO;
    kuSalcM(ePmYgBI, [DULCiQqMJAk kzqvYPK:kCwNfzgtTG()]);
    [ePmYgBI addTarget:self action:@selector(kYNuzsjLKwofUP:) forControlEvents:UIControlEventTouchUpInside];
    self.eeAKvgjizHJw = ePmYgBI;
    
    [self addSubview:self.eVZsbUve];
    [self addSubview:_eKTYJzc];
    [self addSubview:self.ezuKvVmpOUIQjeD];
    [self addSubview:self.eubaPDwrHysfdj];
    [self addSubview:self.eGZYOtlsNhargDe];
    [self addSubview:self.enjKIYil];
    [self addSubview:self.eeAKvgjizHJw];
    
    __weak typeof(self) weakSelf = self;
    [self.ezuKvVmpOUIQjeD khNyZHtvxA:ekMeNQzvjgtJhSnA];
    [self.eubaPDwrHysfdj khNyZHtvxA:ekMeNQzvjgtJhSnA];
    [self.eGZYOtlsNhargDe khNyZHtvxA:ekMeNQzvjgtJhSnA];
    [self.enjKIYil khNyZHtvxA:etVQXNiY];
    self.ezuKvVmpOUIQjeD.kjJCATGYMWmDpeI = ^{
        [weakSelf.eubaPDwrHysfdj kQbayuBH];
    };
    self.eubaPDwrHysfdj.kjJCATGYMWmDpeI = ^{
        [weakSelf.eGZYOtlsNhargDe kQbayuBH];
    };
    self.eGZYOtlsNhargDe.kjJCATGYMWmDpeI = ^{
        [weakSelf.enjKIYil kQbayuBH];
    };
}

- (void)kFhumUEfn {
    
    self.eMQuBOarE = kPofSGniBdetAa();
    
    [DUjHPamSNKWkfM khXiHKlJYIcsWTb:self.eVZsbUve kjwoMfYHX:self.eMQuBOarE];
    [DUjHPamSNKWkfM kcNCfuJpSgtid:self.eVZsbUve kjwoMfYHX:kPofSGniBdetAa()];
    [DUjHPamSNKWkfM kdMvtuRCVqTon:self.eVZsbUve kjwoMfYHX:kPofSGniBdetAa()];
    [DUjHPamSNKWkfM kgrLjqVbGpvdykZl:self.eVZsbUve kjwoMfYHX:kDoRYcqQOnd() + 10];
    
    [DUjHPamSNKWkfM khXiHKlJYIcsWTb:_eKTYJzc kjwoMfYHX:self.eMQuBOarE];
    [DUjHPamSNKWkfM kcNCfuJpSgtid:_eKTYJzc kjwoMfYHX:khSRvCsVT()];
    [DUjHPamSNKWkfM kYzDgmEuJZa:_eKTYJzc kjwoMfYHX:kQwnLDEgevqK()];
    [DUjHPamSNKWkfM kgrLjqVbGpvdykZl:_eKTYJzc kjwoMfYHX:kQwnLDEgevqK()];
    
    self.eMQuBOarE += kDoRYcqQOnd() + 10;
    self.eMQuBOarE += kPofSGniBdetAa();
    
    [DUjHPamSNKWkfM khXiHKlJYIcsWTb:self.ezuKvVmpOUIQjeD kjwoMfYHX:self.eMQuBOarE];
    [DUjHPamSNKWkfM ktGjyplNWv:self.ezuKvVmpOUIQjeD kjwoMfYHX:0];
    [DUjHPamSNKWkfM kYzDgmEuJZa:self.ezuKvVmpOUIQjeD kjwoMfYHX:kExuNVS()];
    [DUjHPamSNKWkfM kgrLjqVbGpvdykZl:self.ezuKvVmpOUIQjeD kjwoMfYHX:kDoRYcqQOnd()];
    
    self.eMQuBOarE += kDoRYcqQOnd();
    self.eMQuBOarE += kPofSGniBdetAa();
    
    [DUjHPamSNKWkfM khXiHKlJYIcsWTb:self.eubaPDwrHysfdj kjwoMfYHX:self.eMQuBOarE];
    [DUjHPamSNKWkfM ktGjyplNWv:self.eubaPDwrHysfdj kjwoMfYHX:0];
    [DUjHPamSNKWkfM kYzDgmEuJZa:self.eubaPDwrHysfdj kjwoMfYHX:kExuNVS()];
    [DUjHPamSNKWkfM kgrLjqVbGpvdykZl:self.eubaPDwrHysfdj kjwoMfYHX:kDoRYcqQOnd()];
    
    self.eMQuBOarE += kDoRYcqQOnd();
    self.eMQuBOarE += kPofSGniBdetAa();
    
    [DUjHPamSNKWkfM khXiHKlJYIcsWTb:self.eGZYOtlsNhargDe kjwoMfYHX:self.eMQuBOarE];
    [DUjHPamSNKWkfM ktGjyplNWv:self.eGZYOtlsNhargDe kjwoMfYHX:0];
    [DUjHPamSNKWkfM kYzDgmEuJZa:self.eGZYOtlsNhargDe kjwoMfYHX:kExuNVS()];
    [DUjHPamSNKWkfM kgrLjqVbGpvdykZl:self.eGZYOtlsNhargDe kjwoMfYHX:kDoRYcqQOnd()];
    
    self.eMQuBOarE += kDoRYcqQOnd();
    self.eMQuBOarE += kPofSGniBdetAa();
    
    [DUjHPamSNKWkfM khXiHKlJYIcsWTb:self.enjKIYil kjwoMfYHX:self.eMQuBOarE];
    [DUjHPamSNKWkfM ktGjyplNWv:self.enjKIYil kjwoMfYHX:0];
    [DUjHPamSNKWkfM kYzDgmEuJZa:self.enjKIYil kjwoMfYHX:kExuNVS()];
    [DUjHPamSNKWkfM kgrLjqVbGpvdykZl:self.enjKIYil kjwoMfYHX:kDoRYcqQOnd()];
    
    self.eMQuBOarE += kDoRYcqQOnd();
    self.eMQuBOarE += ktaMSrs();
    
    [DUjHPamSNKWkfM khXiHKlJYIcsWTb:self.eeAKvgjizHJw kjwoMfYHX:self.eMQuBOarE];
    [DUjHPamSNKWkfM ktGjyplNWv:self.eeAKvgjizHJw kjwoMfYHX:0];
    [DUjHPamSNKWkfM kYzDgmEuJZa:self.eeAKvgjizHJw kjwoMfYHX:kcNsoFWewpBQT()];
    [DUjHPamSNKWkfM kgrLjqVbGpvdykZl:self.eeAKvgjizHJw kjwoMfYHX:kiHIVjCQRJ()];
    self.eMQuBOarE += kDoRYcqQOnd();
    
    [self kTLrBoKzIJa];
}

#pragma mark ---------- 计算输入框的位置
- (void)kTLrBoKzIJa {
    if (CGRectGetHeight(self.ezuKvVmpOUIQjeD.bounds)) {
        [self kJHuExWpsqVKfl:self.ezuKvVmpOUIQjeD];
    }
    if (CGRectGetHeight(self.eubaPDwrHysfdj.bounds)) {
        [self kJHuExWpsqVKfl:self.eubaPDwrHysfdj];
    }
    if (CGRectGetHeight(self.eGZYOtlsNhargDe.bounds)) {
        [self kJHuExWpsqVKfl:self.eGZYOtlsNhargDe];
    }
    if (CGRectGetHeight(self.enjKIYil.bounds)) {
        [self kJHuExWpsqVKfl:self.enjKIYil];
    }
}
- (void)kJHuExWpsqVKfl:(DUHWleqOoxv *)elpZwvNR {
    UIWindow *window = kOjcdzAgI();
    CGRect rect = [elpZwvNR convertRect:elpZwvNR.bounds toView:window];
    CGFloat eIpxfwWAXvzMaxY = CGRectGetMaxY(rect);
    [elpZwvNR kJHuExWpsqVKfl:eIpxfwWAXvzMaxY];
}


#pragma mark ---------- back Action
-(void)kvABkErUSyhAction:(UIButton *)sender {
    if (self.kvABkErUSyhAction) {
        [self kDlfUmNpWuRzrgq];
        self.hidden = YES;
        self.kvABkErUSyhAction();
        [self removeFromSuperview];
    }
}

#pragma mark ---------- action
- (void)kYNuzsjLKwofUP:(UIButton *)sender {
    NSString *account = self.ezuKvVmpOUIQjeD.eegFcbrRpD;
    NSString *password = self.eubaPDwrHysfdj.eegFcbrRpD;
    NSString *newPassword = self.eGZYOtlsNhargDe.eegFcbrRpD;
    NSString *renewPassword = self.enjKIYil.eegFcbrRpD;
    if (!account || !account.length) {
        [DUyUrAEagzMZ kdSzeClsBhOtZIYxErrorMessage:@"请输入账号"];
        return;
    }
    if (!password || !password.length) {
        [DUyUrAEagzMZ kdSzeClsBhOtZIYxErrorMessage:@"请输入密码"];
        return;
    }
    if (!kzJomuDbFgVxtUfX(password)) {
        [DUyUrAEagzMZ kdSzeClsBhOtZIYxErrorMessage:@"密码格式有误"];
        return;
    }
    if (!newPassword || !newPassword.length) {
        [DUyUrAEagzMZ kdSzeClsBhOtZIYxErrorMessage:@"请输入新的密码"];
        return;
    }
    if (!renewPassword || !renewPassword.length) {
        [DUyUrAEagzMZ kdSzeClsBhOtZIYxErrorMessage:@"请再输入新的密码"];
        return;
    }
    if (![newPassword isEqualToString:renewPassword]) {
        [DUyUrAEagzMZ kdSzeClsBhOtZIYxErrorMessage:@"两次输入的密码不正确"];
        return;
    }
    if (!kzJomuDbFgVxtUfX(newPassword) || !kzJomuDbFgVxtUfX(renewPassword)) {
        [DUyUrAEagzMZ kdSzeClsBhOtZIYxErrorMessage:@"密码格式有误"];
        return;
    }
    NSDictionary *para = @{
                           @"user_name": account,
                           @"psw": password,
                           @"new_psw": newPassword,
                           @"confirm_psw": renewPassword
                           };
    __weak typeof(self) weakSelf = self;
    [DUyUrAEagzMZ kdSzeClsBhOtZIYxIndicatorWithTitlte:@"正在重置..."];
    [self.ezBWxrAi kXLPOEpCBozkZM:kLfTSgpe() parameters:para];
    self.ezBWxrAi.kurcxnG = ^(DUjmZRSlJeTuw *object) {
        dispatch_async(dispatch_get_main_queue(), ^{
            [DUyUrAEagzMZ kmBSjbQ];
            if (object.ebTBquLMZ == 200) {
//                [DUyUrAEagzMZ kqSsTXv:@"重置密码成功"];
                [weakSelf kqvPMBwgsEauVf];
                if (weakSelf.kueUPIvsgjkWnOic) {
                    weakSelf.kueUPIvsgjkWnOic();
                }
            } else {
                if (object.euwmDFU) {
                    [DUyUrAEagzMZ kdSzeClsBhOtZIYxErrorMessage:object.euwmDFU];
                } else {
                    [DUyUrAEagzMZ kdSzeClsBhOtZIYxErrorMessage:@"重置密码失败"];
                }
            }
        });
    };
    self.ezBWxrAi.kkMohviBYIVtrnEm = ^(NSError *error) {
        dispatch_async(dispatch_get_main_queue(), ^{
           [DUyUrAEagzMZ kmBSjbQ];
            [DUyUrAEagzMZ kdSzeClsBhOtZIYxErrorMessage:@"网络出了小差!!!"];
        });
    };
}



#pragma mark ---------- 情况内容
- (void)kqvPMBwgsEauVf {
    [self.ezuKvVmpOUIQjeD kFiftlVHNBPaQX:@"" kHnyqoAY:YES];
    [self.eubaPDwrHysfdj kFiftlVHNBPaQX:@"" kHnyqoAY:YES];
    [self.eGZYOtlsNhargDe kFiftlVHNBPaQX:@"" kHnyqoAY:YES];
    [self.enjKIYil kFiftlVHNBPaQX:@"" kHnyqoAY:YES];
    
}



-(DUjmZRSlJeTuw *)ezBWxrAi {
    if (!_ezBWxrAi) {
        _ezBWxrAi = [[DUjmZRSlJeTuw alloc]init];
    }
    return _ezBWxrAi;
}


@end
